---
jupyterhub_rtc_all_users: |
  c.JupyterHub.load_roles.append(
    {
      "name": "user",
      "description": "Allow users to access each others' server in addition to default perms",
      "scopes": [ "self", "access:servers", "list:users" ]
    }
  )
jupyterhub_rtc_shared_user: |
  c.Authenticator.allowed_users.add("shared")
  c.JupyterHub.load_roles.append(
    {
      "name": "user",
      "description": "Allow users to access the shared server in addition to default perms",
      "scopes": [
        "self", "access:servers!user=shared", "admin:servers!user=shared", "list:users!user=shared", # allow all users to access the server for user 'shared'
        "shares!user", "read:users:name", "read:groups:name",
        # the permissions on the line above allow the user to share their own servers with other users.
        # However, there is not yet a UI for this as of JupyterHub 5.3:
        # https://jupyterhub.readthedocs.io/en/5.2.1/tutorial/sharing.html
      ]
    }
  )
